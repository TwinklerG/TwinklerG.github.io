# 数字逻辑电路

## 数字部分：运算符与逻辑表达式

与函数(AND)

位组合编号规则，最右一位为0，最左一位为31

> A = 0001 0010 0011 0100 0101 0110 0111 1000
>
> 记作：A[31:0]

位屏蔽/掩码

> 如保留最后两位，则将最后两位设为1，其他均设为0

或函数(OR)

非函数(NOT)

异或函数(XOR)

按位取反相当于将原数和1111...按位异或

### 基本运算符

$A·B$ 为AND

$A+B$ 为OR

$\overline{A}$ 为NOT

==逻辑完备性==：其他任何逻辑函数可以写成这三种基本逻辑运算符的逻辑组合

> 异或函数可以写成：$(\overline{A}·B)+(A·\overline{B})$

C的按位运算符：`&`,`|`,`~`,`^`；移位运算符：左移<<零填充，右移>>符号拓展

==优先级==：`~` > `>>` = `<<` > `&` > `^` > `|`

## 电路部分：晶体管和门电路

MOS晶体管：P型（0V导通）和N型（3.3V导通）

C(comlpementary 互补)MOS电路：**N型源极不接电源正极**，**P型源极不接地**。既含P又含N。

### 门

#### 非门

栅极P,N一起作**输入端**，漏极P,N一起作**输出端**

PMOS管的源极接电源正极，NMOS管的源极接地

#### 或非门

顶部P,P串联，底部N,N并联

#### 或门

在或非门输出端增加一个反相器

#### 非与门

顶部并联P,P，底部N,N串联

#### 与门

在非与门输出端增加一个反相器

> 可以验证德摩根律

三个输入的与门可以将其中两个输出的结果作为输入和另一个输入进入与门

### 组合逻辑电路

逻辑结构两大类型：能够存储信息，不能存储信息

组合逻辑电路不能存储信息，为“判定元件”，主要用于处理信息

#### 译码器

只有一个输出为1，其他全为0

通常，译码器有n个输入，$2^n$个输出

被检测的输入组合的输出为1，所有其他的输出则为0

#### 多路选择器

选择一个输入连接到输出

由选择信号决定由哪个输入连接到输出

一般由n条选择线和$2^n$个输入组成

#### 全加法器

4位二进制加法电路

### 逻辑完备性

任何逻辑函数都可通过一个可编程逻辑阵列(PLA)来实现，而PLA只有与门、或门和非门组成。

#### 经典逻辑电路——布尔代数和逻辑电路

输出1位的==多路选择器==

>  多路选择器：在多路的输入中选择1路作为输出

布尔代数有交换律、分配律、结合律等定律

逻辑函数可以被表示为：真值表、逻辑表达式、逻辑电路

### 时序逻辑电路

#### R-S锁存器

工作原理：”保持/静止状态“，S=R=1

* R："reset"，复位
* S：”set“，置位

非与门也可以用非或门替代

##### 置位

S=0, R=1, a的值被设置为1,b为0——写入1

S=1, R=1, a的值不变——存储1

##### 复位

S=1, R=0, a的值被设置为0,b为1——写入0

S=1, R=1, a的值不变——存储0

~~R = S = 0~~，取决于晶体管的电子特性(禁止此操作)

#### 门控D锁存器

两个输入：D(data)和WE(write enable)

WE = 1,输入被设置为D的值

WE = 0,存储D的值（保持）

#### 寄存器

**WE共享**，多个门控D锁存器存储多位

WE = 1, n位D的值被写入寄存器

#### 时序逻辑电路——有限状态机

组合逻辑+寄存器：既能处理信息，也能存储信息。基于之前发生的事做判定，输出既取决于当前的输入，也取决于存储在存储元件中的值。可用来实现一种非常重要的被称为**有限状态机**的机制。

> 一个示例：电话应答机。响铃3次才开始录音机录音，共有4个状态

寄存器容量有限，所以状态的数目有限。

5个组成元素：

1. 有限状态的数目
2. 有限数目的外部输入
3. 有限数目的输出
4. 明确定义的**状态转换函数**
5. 明确定义的==输出函数==

可以采用状态图来表示：一组圆和一组连接弧线（当前状态->下一个状态（次态））

下一个状态是由当前状态和当前的外部输入的组合决定的

系统的输出值由系统的当前状态决定，或者由当前状态和当前的外部输入的组合决定。

时序逻辑电路：==交通灯控制器==

### 存储器

基本存储元件：

存储一位信息：锁存器，触发器

存储多位信息寄存器（堆）

存储器（内存）

地址：每一个单元联系在一起的唯一标识符，二进制地址

寻址能力：存储在每一个单元中的信息的位数

地址空间：唯一可识别的单元总数

> 2^10^ , 1024, 1k
>
> 2^20^, 1M
>
> 2^30^ , 1G
>
> 2^32^ , 4G

每个存储单元包含一个字节的信息

存储器4x2
